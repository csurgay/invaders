class Segment7 {
    static segments = [
        [[116,34],[127,28],[146,21],[178,18],[330,18],[396,21],[396,25],[366,80],[348,110],[184,110],[117,41]],
        [[90,57],[102,61],[170,129],[167,230],[159,308],[93,341],[72,321],[54,278],[61,187],[70,106],[78,78]],
        [[416,56],[435,74],[452,109],[454,157],[453,299],[443,320],[422,340],[415,340],[385,324],[350,304],[349,220],[355,156],[358,139],[382,98]],
        [[106,360],[146,341],[173,331],[190,330],[335,329],[376,340],[409,361],[410,367],[407,372],[376,388],[340,399],[265,402],[183,398],[108,365]],
        [[81,389],[94,390],[156,420],[152,536],[148,630],[70,690],[62,689],[44,582],[44,498],[66,410]],
        [[347,423],[368,413],[426,389],[437,390],[456,417],[449,554],[437,677],[432,697],[416,719],[385,740],[378,739],[341,634]],
        [[74,709],[114,682],[150,660],[323,657],[356,739],[354,746],[241,752],[145,751],[106,742],[77,719]],
    ];
    static segment10 = [
        [[70,74],[69,72],[157,70],[159,73],[146,101],[85,102]],
        [[46,88],[55,81],[81,124],[79,149],[67,161],[67,164],[67,165],[77,179],[73,280],[48,323],[46,326],[33,310],[32,302],[43,91]],
        [[73,305],[134,305],[146,334],[145,336],[60,336],[58,333]],
        [[192,70],[288,69],[289,72],[271,101],[211,101]],
        [[178,196],[200,180],[260,179],[287,194],[287,198],[268,213],[206,213],[179,198]],
        [[277,223],[301,208],[303,208],[312,217],[315,283],[311,301],[305,318],[294,331],[291,331],[273,302],[276,225]],
        [[201,303],[258,302],[259,304],[277,334],[278,336],[184,335],[184,334],[199,305]],
        [],
        [],
        []
    ];
    static segment5 = [
        [[445,79],[463,108],[455,283],[430,326],[423,326],[414,310],[415,248],[420,149],[428,98],[440,80]],
        [[458,70],[466,67],[548,67],[553,73],[539,99],[506,102],[477,99],[473,96],[459,72]],
        [[472,179],[526,180],[529,183],[529,208],[524,211],[472,211],[471,182]],
        [[548,106],[566,77],[584,97],[587,107],[586,134],[580,167],[570,184],[563,192],[556,197],[555,199],[567,208],[577,228],[580,253],[578,286],[574,304],[565,325],[559,327],[540,294],[546,111]],
        []
    ];

    static digits = {
        " ": [],
        "0": [0,1,2,4,5,6],
        "1": [2,5],
        "2": [0,2,3,4,6],
        "3": [0,2,3,5,6],
        "4": [1,2,3,5],
        "5": [0,1,3,5,6],
        "6": [0,1,3,4,5,6],
        "7": [0,1,2,5],
        "8": [0,1,2,3,4,5,6],
        "9": [0,1,2,3,5,6],
        "n": [3, 4, 5],
        "L1": [3],
        "L2": [0, 6],
        "L3": [0, 3, 6],
        "C": [0, 1, 4, 6],
        "G": [0, 3, 5, 6],
        "A": [0, 1, 2, 3, 4, 5],
    }

    constructor(x, y, w, h, q) {
        this.x = x;
        this.y = y;
        this.w = w;
        this.h = h;
        this.q = q;
        this.digit = Math.floor(Math.random() * 10).toString();
    }

    drawDigit(dx, dy, color, digit) {
        const aa = 130;
        const bb = 110;
        const qq = 0.40;
        ctx.beginPath();
        ctx.fillStyle = color;
        let q = this.q;
        let shown = Segment7.digits[digit];
        for (let i = 0; i < shown.length; i++) {
            let segment = Segment7.segments[shown[i]];
            ctx.moveTo(aa + qq * (dx + this.x + q * segment[0][0]), 
                bb + qq * (dy + this.y + q *segment[0][1]));
            for (let j = 1; j < segment.length; j++) {
                ctx.lineTo(aa + qq * (dx + this.x + q * segment[j][0]), 
                    bb + qq * (dy + this.y + q * segment[j][1]));
            }
        }
        ctx.closePath();
        ctx.fill();
    }

    draw(digit = this.digit) {
        this.drawDigit(-4, 3, "rgba(80, 80, 80, 0.1)", digit);
        this.drawDigit(0, 0, "rgba(0, 0, 0, 0.5)", digit);
    }
}
