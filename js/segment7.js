class Segment7 {
    static segments = [
        [[116,34],[127,28],[146,21],[178,18],[330,18],[396,21],[396,25],[366,80],[348,110],[184,110],[117,41]],
        [[90,57],[102,61],[170,129],[167,230],[159,308],[93,341],[72,321],[54,278],[61,187],[70,106],[78,78]],
        [[416,56],[435,74],[452,109],[454,157],[453,299],[443,320],[422,340],[415,340],[385,324],[350,304],[349,220],[355,156],[358,139],[382,98]],
        [[106,360],[146,341],[173,331],[190,330],[335,329],[376,340],[409,361],[410,367],[407,372],[376,388],[340,399],[265,402],[183,398],[108,365]],
        [[81,389],[94,390],[156,420],[152,536],[148,630],[70,690],[62,689],[44,582],[44,498],[66,410]],
        [[347,423],[368,413],[426,389],[437,390],[456,417],[449,554],[437,677],[432,697],[416,719],[385,740],[378,739],[341,634]],
        [[74,709],[114,682],[150,660],[323,657],[356,739],[354,746],[241,752],[145,751],[106,742],[77,719]],
    ];

    static digits = {
        "0": [0,1,2,4,5,6],
        "1": [2,5],
        "2": [0,2,3,4,6],
        "3": [0,2,3,5,6],
        "4": [1,2,3,5],
        "5": [0,1,3,5,6],
        "6": [0,1,3,4,5,6],
        "7": [0,1,2,5],
        "8": [0,1,2,3,4,5,6],
        "9": [0,1,2,3,5,6],
        "n": [3, 4, 5],
        "L1": [3],
        "L2": [0, 6],
        "L3": [0, 3, 6],
        "C": [0, 1, 4, 6],
        "G": [0, 3, 5, 6],
        "A": [0, 1, 2, 3, 4, 5],
    }

    constructor(x, y, w, h, q) {
        this.x = x;
        this.y = y;
        this.w = w;
        this.h = h;
        this.q = q;
        this.digit = Math.floor(Math.random() * 10).toString();
    }

    drawDigit(dx, dy, color, digit) {
        ctx.beginPath();
        ctx.fillStyle = color;
        let q = this.q;
        let shown = Segment7.digits[digit];
        for (let i = 0; i < shown.length; i++) {
            let segment = Segment7.segments[shown[i]];
            ctx.moveTo(dx + this.x + q * segment[0][0], 
                dy + this.y + q *segment[0][1]);
            for (let j = 1; j < segment.length; j++) {
                ctx.lineTo(dx + this.x + q * segment[j][0], 
                    dy + this.y + q * segment[j][1]);
            }
        }
        ctx.closePath();
        ctx.fill();
    }

    draw(digit = this.digit) {
        this.drawDigit(-6, 5, "rgba(80, 80, 80, 0.1)", digit);
        this.drawDigit(0, 0, "rgba(0, 0, 0, 0.5)", digit);
    }
}
